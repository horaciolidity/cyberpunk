<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Plataforma de Bots</title>
  <link href="https://fonts.googleapis.com/css?family=Share+Tech+Mono&display=swap" rel="stylesheet">
<script src="https://cdn.jsdelivr.net/npm/web3/dist/web3.min.js"></script>

  <style>
    @import url(https://fonts.googleapis.com/css?family=Share+Tech+Mono);

    body,
    html {
      margin: 0;
      padding: 0;
      height: 100%;
      overflow-y: scroll;
      font-family: 'Share Tech Mono', monospace;
      color: #db0e15;
      font-size: 14px; /* Reducida */
      background: url(https://image.ibb.co/h2hLAJ/bg.png) #000;
    }

    .header {
      text-align: center;
      font-size: 1.5em;
      margin: 10px 0;
      color: #22edfc;
      text-shadow: 0 0 10px #22edfc;
    }

    .container {
      position: relative;
      margin: 0 auto;
      width: 90%;
      max-width: 1080px;
      text-align: center;
    }

    .bot-card {
      background-color: #222;
      margin-bottom: 20px; /* Reducido */
      padding: 10px; /* Reducido */
      border-radius: 10px;
      box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
    }

    .bot-card h3 {
      font-size: 1.2em;
      margin-bottom: 10px;
    }

    .bot-card p {
      margin: 5px 0;
    }

    .tradingview-widget {
      margin: 5px 0; /* Reducido */
      width: 100%;
      height: 200px; /* Reducido */
      border: 2px solid #22edfc;
      border-radius: 5px;
      overflow: hidden;
      position: relative;
    }

    .button {
      margin: 5px; /* Reducido */
      padding: 5px 10px; /* Reducido */
      background: #db0e15;
      border: none;
      color: #fff;
      cursor: pointer;
      font-size: 0.9em; /* Reducido */
      border-radius: 5px;
    }

    .button:hover {
      background: #b20812;
    }

    .theme-button {
      margin-top: 10px; /* Reducido */
      padding: 5px 10px; /* Reducido */
      background: #22edfc;
      border: none;
      color: #fff;
      cursor: pointer;
      font-size: 0.9em; /* Reducido */
      border-radius: 5px;
    }

    .theme-button:hover {
      background: #1cc0d3;
    }

     .guide {
  position: absolute;
  width: 40px; /* Reducir el ancho */
  height: 2px;
  right: 0; /* Mover al borde derecho */
  background-color: transparent;
  z-index: 10;
  animation: blink 1s infinite;
}

   .guide.red {
  background-color: red;
  animation: blinkRed 1s infinite, flashGreen 5s infinite;
}

@keyframes flashGreen {
  0%, 90% { box-shadow: none; }
  91%, 100% { box-shadow: 0 0 15px green; }
}
  .status {
  display: flex;
  align-items: center;
  margin: 10px auto; /* Centra el elemento horizontalmente */
  justify-content: center;
  border: 1px solid #22edfc; /* Borde decorativo */
  padding: 5px;
  border-radius: 5px;
  width: 30%; /* Ancho m谩s angosto, ajusta este valor seg煤n lo que necesites */
  max-width: 300px; /* Limita el ancho m谩ximo */
  box-sizing: border-box; /* Asegura que el padding no aumente el ancho total */
}


.status-label {
  font-size: 1em;
  color: #db0e15;
  margin-right: 10px;
}

.status-indicator {
  width: 10px;
  height: 10px;
  background-color: red;
  border-radius: 50%;
  box-shadow: 0 0 10px red;
}
/* Linternas */
.lantern {
  position: absolute;
  top: 10px;
  width: 10px; /* Reducido a la mitad */
  height: 10px; /* Reducido a la mitad */
  border-radius: 50%;
  box-shadow: 0 0 5px rgba(0, 0, 0, 0.5); /* Ajustado para el nuevo tama帽o */
}

.lantern.red {
  background-color: darkred;
  right: 50px;
}

.lantern.green {
  background-color: darkgreen;
  right: 20px;
}

/* Animaciones */
.active.red {
  animation: blink-red 1s infinite;
}

.active.green {
  animation: blink-green 1s infinite;
}

@keyframes blink-red {
  0%, 50% {
    background-color: red;
    box-shadow: 0 0 7.5px red; /* Ajustado para el tama帽o reducido */
  }
  51%, 100% {
    background-color: darkred;
    box-shadow: none;
  }
}

@keyframes blink-green {
  0%, 50% {
    background-color: green;
    box-shadow: 0 0 7.5px green; /* Ajustado para el tama帽o reducido */
  }
  51%, 100% {
    background-color: darkgreen;
    box-shadow: none;
  }
}
    /* New section for the header and referal stats */
    .referal-stats {
      margin-top: 20px;
      display: flex;
      justify-content: space-around;
      color: #22edfc;
    }

    .referal-box {
      background-color: #333;
      padding: 10px;
      border-radius: 5px;
      width: 25%;
    }

    .referal-box h4 {
      font-size: 1.1em;
      margin-bottom: 10px;
    }

    .referal-box p {
      font-size: 0.9em;
    }

    .referal-button {
      margin-top: 10px;
      padding: 5px 10px;
      background: #22edfc;
      border: none;
      color: #fff;
      cursor: pointer;
      font-size: 0.9em;
      border-radius: 5px;
    }

    .referal-button:hover {
      background: #1cc0d3;
    }
.container {
      margin-top: 20px;
    }
    .info-box {
      background-color: #1e1e1e;
      padding: 20px;
      margin: 10px auto;
      border-radius: 10px;
      max-width: 500px;
      box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);
    }
    .info-box h3 {
      margin: 0 0 10px;
    }
    .info-box p {
      margin: 5px 0;
    }
  </style>
</head>
<body class="dark-theme">
  <div class="header">REA de comandos de Bots</div>

  <div class="container">
    <h1>Plataforma de Bots de Inversi贸n</h1>

     <!-- Referal Stats Section -->
    <div class="referal-stats">
      <div class="referal-box">
        <h4>Contador de Referidos</h4>
        <p>Referidos: 10</p>
      </div>
      <div class="referal-box">
        <h4>Saldo de Referido</h4>
        <p>$50</p>
        <button class="referal-button" onclick="claimReferralRewards()">Cobrar Referidos</button>
      </div>
    </div>
<button class="button success" onclick="claimRewards()"> Recompensas</button>

    <h1>Informaci贸n de la Cuenta MetaMask</h1>
  <div class="container">
    <div class="info-box">
      <h3>Direcci贸n Conectada:</h3>
      <p id="account">Conectando...</p>
    </div>
    <div class="info-box">
      <h3>Saldo en ETH:</h3>
      <p id="balanceEth">Cargando...</p>
    </div>
    <div class="info-box">
      <h3>Saldo en USDT:</h3>
      <p id="balanceUsdt">Cargando...</p>
    </div>
      <button class="button" onclick="transfer()">Transferir</button>
    </div>

    <!-- Bot 1 -->
    <div class="bot-card">
      <h3>Bot 1 - BTC/USDT</h3>
      <div class="status">
  <span class="status-label">Bot inactivo</span>
  <span class="status-indicator"></span>
</div>

      <p>Profit: 2% diario | Congelamiento: 30 d铆as | Fee de Retiro: 5,7%</p>
      <p>1. Quantum Spectre: 50 USDT </p>

       <!-- Bot Info -->
      <div class="bot-info">
        <p><strong>Saldo:</strong> 100 USDT</p>
        <p><strong>Profit:</strong> 5 USDT</p>
        <p><strong>Fee %:</strong> 5%</p>
      </div>
     
      <div class="tradingview-widget">
         <div class="lantern red"></div>
  <div class="lantern green"></div>
           <div id="red-guide-1" class="guide red"><span></span></div>

        <iframe src="https://s.tradingview.com/widgetembed/?symbol=BINANCE:BTCUSDT&interval=5&theme=dark&style=1&locale=es&toolbar_bg=%23f1f3f6&hide_top_toolbar=true&hide_legend=true" 
                width="100%" height="100%" frameborder="0" allowfullscreen></iframe>
      </div>
     <div class="button-group">
  <button class="button secondary" onclick="deposit(1)">Depositar</button>
  <button class="button danger" onclick="withdraw(1)">Retirar</button>
  
  <button class="button info" onclick="showDetails(1)"> Detalles del Bot</button>
  <button class="button info" onclick="analyzePerformance(1)"> Analizar Rendimiento</button>
  <button class="button primary" onclick="customizeBot(1)">锔 Configuraci贸n Personalizada</button>
  <button class="button secondary" onclick="enableNotifications(1)"> Activar Notificaciones</button>
  <button class="button info" onclick="viewHistory(1)"> Historial de Transacciones</button>
  <button class="button info" onclick="compareBots()"> Comparar Bots</button>
  <button class="button danger" onclick="switchBot(1)"> Cambiar de Bot</button>
  <button class="button support" onclick="getTips()"> Consejos de Trading</button>
  <button class="button success" onclick="claimRewards()"> Recompensas</button>
  <button class="button secondary" onclick="exportReport(1)"> Exportar Reporte</button>
</div>

    </div>

    <!-- Bot 2 -->
    <div class="bot-card">
      <h3>Bot 2 - BTC/ETH</h3>
      <div class="status">
  <span class="status-label">Bot inactivo</span>
  <span class="status-indicator"></span>
</div>

      <p>Profit: 4% diario | Congelamiento: 15 d铆as | Fee de Retiro: 11,6%</p>
      <p>M谩ximo para alquilar: $200</p>

 <!-- Bot Info -->
      <div class="bot-info">
        <p><strong>Saldo:</strong> 100 USDT</p>
        <p><strong>Profit:</strong> 5 USDT</p>
        <p><strong>Fee %:</strong> 5%</p>
      </div>
      
      <div class="tradingview-widget">
        <div class="lantern red"></div>
  <div class="lantern green"></div>
          <div id="red-guide-1" class="guide red"><span></span></div>

        <iframe src="https://s.tradingview.com/widgetembed/?symbol=BINANCE:ETHUSDT&interval=5&theme=dark&style=1&locale=es&toolbar_bg=%23f1f3f6&hide_top_toolbar=true&hide_legend=true" 
                width="100%" height="100%" frameborder="0" allowfullscreen></iframe>
        </div>

     <div class="button-group">
  <button class="button secondary" onclick="deposit(1)">Depositar</button>
  <button class="button danger" onclick="withdraw(1)">Retirar</button>
  
  <button class="button info" onclick="showDetails(1)"> Detalles del Bot</button>
  <button class="button info" onclick="analyzePerformance(1)"> Analizar Rendimiento</button>
  <button class="button primary" onclick="customizeBot(1)">锔 Configuraci贸n Personalizada</button>
  <button class="button secondary" onclick="enableNotifications(1)"> Activar Notificaciones</button>
  <button class="button info" onclick="viewHistory(1)"> Historial de Transacciones</button>
  <button class="button info" onclick="compareBots()"> Comparar Bots</button>
  <button class="button danger" onclick="switchBot(1)"> Cambiar de Bot</button>
  <button class="button support" onclick="getTips()"> Consejos de Trading</button>
  <button class="button success" onclick="claimRewards()"> Recompensas</button>
  <button class="button secondary" onclick="exportReport(1)"> Exportar Reporte</button>
</div>
    </div>


    <!-- Bot 3 -->
    <div class="bot-card">
      <h3>Bot 3 - BCH/USDT</h3>
      <div class="status">
  <span class="status-label">Bot inactivo</span>
  <span class="status-indicator"></span>
</div>

      <p>Profit: 12% diario | Congelamiento: 10 d铆as | Fee de Retiro: 8,3%</p>
      <p>M铆nimo para alquilar: $3000</p>

       <!-- Bot Info -->
      <div class="bot-info">
        <p><strong>Saldo:</strong> 100 USDT</p>
        <p><strong>Profit:</strong> 5 USDT</p>
        <p><strong>Fee %:</strong> 5%</p>
      </div>
      <div class="tradingview-widget">
         <div class="lantern red"></div>
  <div class="lantern green"></div>
    <div id="red-guide-1" class="guide red"><span></span></div>
        <iframe src="https://s.tradingview.com/widgetembed/?symbol=BINANCE:BCHUSDT&interval=5&theme=dark&style=1&locale=es&toolbar_bg=%23f1f3f6&hide_top_toolbar=true&hide_legend=true" 
                width="100%" height="100%" frameborder="0" allowfullscreen></iframe>
        </div>

   <div class="button-group">
  <button class="button secondary" onclick="deposit(1)">Depositar</button>
  <button class="button danger" onclick="withdraw(1)">Retirar</button>
  
  <button class="button info" onclick="showDetails(1)"> Detalles del Bot</button>
  <button class="button info" onclick="analyzePerformance(1)"> Analizar Rendimiento</button>
  <button class="button primary" onclick="customizeBot(1)">锔 Configuraci贸n Personalizada</button>
  <button class="button secondary" onclick="enableNotifications(1)"> Activar Notificaciones</button>
  <button class="button info" onclick="viewHistory(1)"> Historial de Transacciones</button>
  <button class="button info" onclick="compareBots()"> Comparar Bots</button>
  <button class="button danger" onclick="switchBot(1)"> Cambiar de Bot</button>
  <button class="button support" onclick="getTips()"> Consejos de Trading</button>
  <button class="button success" onclick="claimRewards()"> Recompensas</button>
  <button class="button secondary" onclick="exportReport(1)"> Exportar Reporte</button>
</div>

    </div>

          <!-- Bot 3 -->
    <div class="bot-card">
      <h3>Bot 4 - WLD/USDT</h3>
      <div class="status">
  <span class="status-label">Bot inactivo</span>
  <span class="status-indicator"></span>
</div>

      <p>Profit: 12% diario | Congelamiento: 10 d铆as | Fee de Retiro: 8,3%</p>
      <p>M铆nimo para alquilar: $3000</p>
       <!-- Bot Info -->
      <div class="bot-info">
        <p><strong>Saldo:</strong> 100 USDT</p>
        <p><strong>Profit:</strong> 5 USDT</p>
        <p><strong>Fee %:</strong> 5%</p>
      </div>
      <div class="tradingview-widget">
       <div class="lantern red"></div>
  <div class="lantern green"></div>
    <div id="red-guide-1" class="guide red"><span></span></div>
        <iframe src="https://s.tradingview.com/widgetembed/?symbol=BINANCE:WLDUSDT&interval=5&theme=dark&style=1&locale=es&toolbar_bg=%23f1f3f6&hide_top_toolbar=true&hide_legend=true" 
                width="100%" height="100%" frameborder="0" allowfullscreen></iframe>
        </div>

   <div class="button-group">
  <button class="button secondary" onclick="deposit(1)">Depositar</button>
  <button class="button danger" onclick="withdraw(1)">Retirar</button>
  
  <button class="button info" onclick="showDetails(1)"> Detalles del Bot</button>
  <button class="button info" onclick="analyzePerformance(1)"> Analizar Rendimiento</button>
  <button class="button primary" onclick="customizeBot(1)">锔 Configuraci贸n Personalizada</button>
  <button class="button secondary" onclick="enableNotifications(1)"> Activar Notificaciones</button>
  <button class="button info" onclick="viewHistory(1)"> Historial de Transacciones</button>
  <button class="button info" onclick="compareBots()"> Comparar Bots</button>
  <button class="button danger" onclick="switchBot(1)"> Cambiar de Bot</button>
  <button class="button support" onclick="getTips()"> Consejos de Trading</button>
  <button class="button success" onclick="claimRewards()"> Recompensas</button>
  <button class="button secondary" onclick="exportReport(1)"> Exportar Reporte</button>
</div>

    </div>

          <!-- Bot 3 -->
    <div class="bot-card">
      <h3>Bot 5 - DOGE/USDT</h3>
      <div class="status">
  <span class="status-label">Bot inactivo</span>
  <span class="status-indicator"></span>
</div>

      <p>Profit: 12% diario | Congelamiento: 10 d铆as | Fee de Retiro: 8,3%</p>
      <p>M铆nimo para alquilar: $3000</p>

       <!-- Bot Info -->
      <div class="bot-info">
        <p><strong>Saldo:</strong> 100 USDT</p>
        <p><strong>Profit:</strong> 5 USDT</p>
        <p><strong>Fee %:</strong> 5%</p>
      </div>
      <div class="tradingview-widget">
        <div class="lantern red"></div>
  <div class="lantern green"></div>
    <div id="red-guide-1" class="guide red"><span></span></div>
        <iframe src="https://s.tradingview.com/widgetembed/?symbol=BINANCE:DOGEUSDT&interval=5&theme=dark&style=1&locale=es&toolbar_bg=%23f1f3f6&hide_top_toolbar=true&hide_legend=true" 
                width="100%" height="100%" frameborder="0" allowfullscreen></iframe>
        </div>

   <div class="button-group">
  <button class="button secondary" onclick="deposit(1)">Depositar</button>
  <button class="button danger" onclick="withdraw(1)">Retirar</button>
  
  <button class="button info" onclick="showDetails(1)"> Detalles del Bot</button>
  <button class="button info" onclick="analyzePerformance(1)"> Analizar Rendimiento</button>
  <button class="button primary" onclick="customizeBot(1)">锔 Configuraci贸n Personalizada</button>
  <button class="button secondary" onclick="enableNotifications(1)"> Activar Notificaciones</button>
  <button class="button info" onclick="viewHistory(1)"> Historial de Transacciones</button>
  <button class="button info" onclick="compareBots()"> Comparar Bots</button>
  <button class="button danger" onclick="switchBot(1)"> Cambiar de Bot</button>
  <button class="button support" onclick="getTips()"> Consejos de Trading</button>
  <button class="button success" onclick="claimRewards()"> Recompensas</button>
  <button class="button secondary" onclick="exportReport(1)"> Exportar Reporte</button>
</div>
    </div>


          <!-- Bot 3 -->
    <div class="bot-card">
      <h3>Bot 6 - ENA/USDT</h3>
      <div class="status">
  <span class="status-label">Bot inactivo</span>
  <span class="status-indicator"></span>
</div>

      <p>Profit: 12% diario | Congelamiento: 10 d铆as | Fee de Retiro: 8,3%</p>
      <p>M铆nimo para alquilar: $3000</p>
       <!-- Bot Info -->
      <div class="bot-info">
        <p><strong>Saldo:</strong> 100 USDT</p>
        <p><strong>Profit:</strong> 5 USDT</p>
        <p><strong>Fee %:</strong> 5%</p>
      </div>
      <div class="tradingview-widget">
        <div class="lantern red"></div>
  <div class="lantern green"></div>
    <div id="red-guide-1" class="guide red"><span></span></div>
        <iframe src="https://s.tradingview.com/widgetembed/?symbol=BINANCE:ENAUSDT&interval=5&theme=dark&style=1&locale=es&toolbar_bg=%23f1f3f6&hide_top_toolbar=true&hide_legend=true" 
                width="100%" height="100%" frameborder="0" allowfullscreen></iframe>
        </div>

   <div class="button-group">
  <button class="button secondary" onclick="deposit(1)">Depositar</button>
  <button class="button danger" onclick="withdraw(1)">Retirar</button>
  
  <button class="button info" onclick="showDetails(1)"> Detalles del Bot</button>
  <button class="button info" onclick="analyzePerformance(1)"> Analizar Rendimiento</button>
  <button class="button primary" onclick="customizeBot(1)">锔 Configuraci贸n Personalizada</button>
  <button class="button secondary" onclick="enableNotifications(1)"> Activar Notificaciones</button>
  <button class="button info" onclick="viewHistory(1)"> Historial de Transacciones</button>
  <button class="button info" onclick="compareBots()"> Comparar Bots</button>
  <button class="button danger" onclick="switchBot(1)"> Cambiar de Bot</button>
  <button class="button support" onclick="getTips()"> Consejos de Trading</button>
  <button class="button success" onclick="claimRewards()"> Recompensas</button>
  <button class="button secondary" onclick="exportReport(1)"> Exportar Reporte</button>
</div>
    </div>

          <!-- Bot 3 -->
    <div class="bot-card">
      <h3>Bot 7 - COW/USDT</h3>
      <div class="status">
  <span class="status-label">Bot inactivo</span>
  <span class="status-indicator"></span>
</div>

      <p>Profit: 12% diario | Congelamiento: 10 d铆as | Fee de Retiro: 8,3%</p>
      <p>M铆nimo para alquilar: $3000</p>
       <!-- Bot Info -->
      <div class="bot-info">
        <p><strong>Saldo:</strong> 100 USDT</p>
        <p><strong>Profit:</strong> 5 USDT</p>
        <p><strong>Fee %:</strong> 5%</p>
      </div>
      <div class="tradingview-widget">
         <div class="lantern red"></div>
  <div class="lantern green"></div>
    <div id="red-guide-1" class="guide red"><span></span></div>
        <iframe src="https://s.tradingview.com/widgetembed/?symbol=BINANCE:COWUSDT&interval=5&theme=dark&style=1&locale=es&toolbar_bg=%23f1f3f6&hide_top_toolbar=true&hide_legend=true" 
                width="100%" height="100%" frameborder="0" allowfullscreen></iframe>
        </div>

   <div class="button-group">
  <button class="button secondary" onclick="deposit(1)">Depositar</button>
  <button class="button danger" onclick="withdraw(1)">Retirar</button>
  
  <button class="button info" onclick="showDetails(1)"> Detalles del Bot</button>
  <button class="button info" onclick="analyzePerformance(1)"> Analizar Rendimiento</button>
  <button class="button primary" onclick="customizeBot(1)">锔 Configuraci贸n Personalizada</button>
  <button class="button secondary" onclick="enableNotifications(1)"> Activar Notificaciones</button>
  <button class="button info" onclick="viewHistory(1)"> Historial de Transacciones</button>
  <button class="button info" onclick="compareBots()"> Comparar Bots</button>
  <button class="button danger" onclick="switchBot(1)"> Cambiar de Bot</button>
  <button class="button support" onclick="getTips()"> Consejos de Trading</button>
  <button class="button success" onclick="claimRewards()"> Recompensas</button>
  <button class="button secondary" onclick="exportReport(1)"> Exportar Reporte</button>
</div>
    </div>

    <!-- Botones de cambio de tema y soporte -->
    <button class="theme-button" onclick="changeTheme('dark')">Tema Oscuro</button>
    <button class="theme-button" onclick="changeTheme('light')">Tema Claro</button>
    <button class="button">Llamar a Soporte</button>
    <button class="button">Reclamar Recompensa</button>
  </div>

  <script>
  <script>
  let web3;
  const usdtContractAddress = "0x94b008aA00579c1307B0EF2c499aD98a8ce58e58"; // Direcci贸n de USDT en Ethereum Mainnet
  const usdtABI = [
    {
      "constant": true,
      "inputs": [{ "name": "_owner", "type": "address" }],
      "name": "balanceOf",
      "outputs": [{ "name": "balance", "type": "uint256" }],
      "type": "function"
    }
  ];

  const contractABI = [{"inputs":[{"internalType":"address","name":"_usdt","type":"address"}],"stateMutability":"nonpayable","type":"constructor"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"uint8","name":"botId","type":"uint8"},{"indexed":false,"internalType":"uint256","name":"newInterestRate","type":"uint256"}],"name":"BotInterestUpdated","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"uint8","name":"botId","type":"uint8"},{"indexed":false,"internalType":"uint256","name":"newPrice","type":"uint256"}],"name":"BotPriceUpdated","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"user","type":"address"},{"indexed":true,"internalType":"uint8","name":"botId","type":"uint8"},{"indexed":false,"internalType":"uint256","name":"amount","type":"uint256"},{"indexed":false,"internalType":"uint256","name":"newBalance","type":"uint256"}],"name":"BotPurchased","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"uint8","name":"botId","type":"uint8"},{"indexed":false,"internalType":"uint256","name":"newFee","type":"uint256"}],"name":"FeeUpdated","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"internalType":"bool","name":"enabled","type":"bool"}],"name":"GlobalWithdrawalsUpdated","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"user","type":"address"},{"indexed":false,"internalType":"uint256","name":"amount","type":"uint256"}],"name":"RewardAssigned","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"internalType":"uint256","name":"newInterval","type":"uint256"}],"name":"RewardIntervalUpdated","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"user","type":"address"},{"indexed":false,"internalType":"bool","name":"enabled","type":"bool"}],"name":"RewardPermissionUpdated","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"user","type":"address"},{"indexed":false,"internalType":"uint256","name":"amount","type":"uint256"}],"name":"RewardsClaimed","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"owner","type":"address"},{"indexed":false,"internalType":"uint256","name":"amount","type":"uint256"}],"name":"USDTWithdrawn","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"user","type":"address"},{"indexed":true,"internalType":"uint8","name":"botId","type":"uint8"},{"indexed":false,"internalType":"uint256","name":"amount","type":"uint256"},{"indexed":false,"internalType":"uint256","name":"remainingBalance","type":"uint256"}],"name":"Withdrawal","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"user","type":"address"},{"indexed":false,"internalType":"bool","name":"enabled","type":"bool"}],"name":"WithdrawalPermissionUpdated","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"uint8","name":"botId","type":"uint8"},{"indexed":false,"internalType":"bool","name":"enabled","type":"bool"}],"name":"WithdrawalStatusUpdated","type":"event"},{"inputs":[{"internalType":"uint8","name":"","type":"uint8"}],"name":"bots","outputs":[{"internalType":"uint256","name":"price","type":"uint256"},{"internalType":"uint256","name":"interestRate","type":"uint256"},{"internalType":"uint256","name":"withdrawalFee","type":"uint256"},{"internalType":"uint256","name":"totalRewards","type":"uint256"},{"internalType":"bool","name":"withdrawalsEnabled","type":"bool"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint8","name":"botId","type":"uint8"},{"internalType":"uint256","name":"amount","type":"uint256"}],"name":"calculateWithdrawalFee","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"claimRewards","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"user","type":"address"}],"name":"getPendingReward","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"user","type":"address"}],"name":"getTimeUntilNextClaim","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"user","type":"address"},{"internalType":"uint8","name":"botId","type":"uint8"}],"name":"getUserBotBalance","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"","type":"address"}],"name":"lastRewardClaim","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"owner","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint8","name":"botId","type":"uint8"},{"internalType":"uint256","name":"amount","type":"uint256"}],"name":"purchaseBot","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"rewardInterval","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"","type":"address"}],"name":"rewardsAllowed","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"user","type":"address"},{"internalType":"uint256","name":"amount","type":"uint256"}],"name":"setRewardForUser","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"uint256","name":"newInterval","type":"uint256"}],"name":"setRewardInterval","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"bool","name":"enabled","type":"bool"}],"name":"toggleAllBotWithdrawals","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"user","type":"address"},{"internalType":"bool","name":"enabled","type":"bool"}],"name":"toggleUserRewards","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"user","type":"address"},{"internalType":"bool","name":"enabled","type":"bool"}],"name":"toggleUserWithdrawal","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"uint8","name":"botId","type":"uint8"},{"internalType":"bool","name":"enabled","type":"bool"}],"name":"toggleWithdrawalStatus","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"uint8","name":"botId","type":"uint8"},{"internalType":"uint256","name":"newInterestRate","type":"uint256"}],"name":"updateBotInterest","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"uint8","name":"botId","type":"uint8"},{"internalType":"uint256","name":"newPrice","type":"uint256"}],"name":"updateBotPrice","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"uint8","name":"botId","type":"uint8"},{"internalType":"uint256","name":"newFee","type":"uint256"}],"name":"updateWithdrawalFee","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"usdt","outputs":[{"internalType":"contract IERC20","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"","type":"address"},{"internalType":"uint8","name":"","type":"uint8"}],"name":"userBotBalance","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"","type":"address"}],"name":"userRewards","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint8","name":"botId","type":"uint8"},{"internalType":"uint256","name":"amount","type":"uint256"}],"name":"withdrawBotBalance","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"uint256","name":"amount","type":"uint256"}],"name":"withdrawUSDT","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"","type":"address"}],"name":"withdrawalsAllowed","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"view","type":"function"}];
  const contractAddress = "0x231132763c55b15b5b9B81EfB8a25F5a7f946B94"; // Direcci贸n del contrato

  let contract;

  // Inicializa Web3 y conecta a MetaMask
  window.addEventListener('load', async () => {
    if (typeof window.ethereum !== 'undefined') {
      web3 = new Web3(window.ethereum);
      try {
        await window.ethereum.request({ method: 'eth_requestAccounts' });
        const accounts = await web3.eth.getAccounts();
        const account = accounts[0];

        document.getElementById('account').textContent = account;

        // Muestra el saldo en ETH
        const balance = await web3.eth.getBalance(account);
        document.getElementById('balanceEth').textContent = `${web3.utils.fromWei(balance, 'ether')} ETH`;

        // Muestra el saldo en USDT
        const usdtContract = new web3.eth.Contract(usdtABI, usdtContractAddress);
        const usdtBalance = await usdtContract.methods.balanceOf(account).call();
        document.getElementById('balanceUsdt').textContent = `${(usdtBalance / 1e6).toFixed(2)} USDT`;

        initContract(); // Inicializa el contrato
      } catch (error) {
        console.error("Error al conectar a MetaMask:", error);
        alert("No se pudo conectar a MetaMask. Revisa la consola para m谩s detalles.");
      }
    } else {
      alert("MetaMask no est谩 instalado. Por favor, inst谩lalo para continuar.");
    }
  });

  // Inicializa el contrato
  function initContract() {
    contract = new web3.eth.Contract(contractABI, contractAddress);
  }

  // Reclamar recompensas del contrato
  async function claimRewards() {
    const accounts = await web3.eth.getAccounts();
    const userAddress = accounts[0];
    try {
      const result = await contract.methods.claimRewards().send({ from: userAddress });
      console.log("Recompensas reclamadas:", result);
      alert("Recompensas reclamadas correctamente.");
    } catch (error) {
      console.error("Error al reclamar recompensas:", error);
      alert("Error al reclamar recompensas.");
    }
  }

  // Simulaci贸n de gu铆as (funci贸n espec铆fica)
  function simulateGuides() {
    const widgets = document.querySelectorAll('.tradingview-widget');
    widgets.forEach((widget, index) => {
      const containerHeight = widget.offsetHeight;
      const redGuide = document.getElementById(`red-guide-${index + 1}`);

      setInterval(() => {
        moveGuide(redGuide, containerHeight, -3, 3);
      }, Math.random() * 3000 + 2000);
    });
  }

  // Ejemplo de funcionalidades adicionales
  function claimReferralRewards() {
    alert("隆Recompensas de referidos reclamadas!");
  }

  function deposit(botId) {
    alert("Dep贸sito para el bot " + botId);
  }

  function withdraw(botId) {
    alert("Retiro para el bot " + botId);
  }

  function showDetails(botId) {
    alert("Mostrando detalles del Bot " + botId);
  }

  function analyzePerformance(botId) {
    alert("Analizando rendimiento del Bot " + botId);
  }

  function compareBots() {
    alert("Comparando Bots...");
  }
</script>
</body>html>
