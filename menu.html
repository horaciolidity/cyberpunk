<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Plataforma de Bots</title>
  <link href="https://fonts.googleapis.com/css?family=Share+Tech+Mono&display=swap" rel="stylesheet">
  <style>
    @import url(https://fonts.googleapis.com/css?family=Share+Tech+Mono);

    body,
    html {
      margin: 0;
      padding: 0;
      height: 100%;
      user-select: none;
      overflow-y: scroll;
      font-family: 'Share Tech Mono', monospace;
      color: #db0e15;
      font-size: 26px;
      font-weight: 300;
      text-shadow: 0 0 5px rgba(219, 14, 21, .8);
      background: url(https://image.ibb.co/h2hLAJ/bg.png) #000;
    }

    .container {
      position: relative;
      margin: 0 auto;
      width: 90%;
      max-width: 1080px;
      text-align: center;
    }

    .bot-card {
      background-color: #222;
      margin-bottom: 40px;
      padding: 20px;
      border-radius: 10px;
      position: relative;
    }

    .pointer {
      position: absolute;
      width: 15px;
      height: 15px;
      border-radius: 50%;
      box-shadow: 0 0 10px;
    }

    .pointer.buy {
      background-color: green;
      box-shadow: 0 0 15px green;
    }

    .pointer.sell {
      background-color: red;
      box-shadow: 0 0 15px red;
    }

    .line {
      position: absolute;
      width: 2px;
      background-color: yellow;
      transform-origin: top;
    }
  </style>
</head>
<body>
  <div class="container">
    <div class="bot-card" id="chart-container">
      <h3>Simulación de Gráfico con Punteros</h3>
      <div class="tradingview-widget" style="width: 100%; height: 400px; background-color: #333;"></div>
    </div>
  </div>

  <script>
    const chartContainer = document.getElementById('chart-container');

    function createPointer(type) {
      const pointer = document.createElement('div');
      pointer.classList.add('pointer', type);
      chartContainer.appendChild(pointer);

      movePointer(pointer, type);
    }

    function movePointer(pointer, type) {
      const duration = 120000; // 2 minutes in ms
      const interval = 1000 + Math.random() * 2000; // Random interval between 1-3 seconds

      let steps = 0;
      const move = setInterval(() => {
        if (steps >= duration / interval) {
          clearInterval(move);
          pointer.remove();
          return;
        }

        steps++;
        const x = Math.random() * (chartContainer.offsetWidth - 20);
        const y = Math.random() * (chartContainer.offsetHeight - 20);

        pointer.style.left = `${x}px`;
        pointer.style.top = `${y}px`;

        if (Math.random() < 0.1) {
          flashPointer(pointer, x, y);
        }
      }, interval);
    }

    function flashPointer(pointer, x, y) {
      pointer.style.boxShadow = '0 0 30px yellow';

      const line = document.createElement('div');
      line.classList.add('line');
      chartContainer.appendChild(line);

      const length = Math.sqrt(x * x + y * y);
      line.style.height = `${length}px`;
      line.style.transform = `rotate(${Math.atan2(y, x) * (180 / Math.PI)}deg)`;
      line.style.left = `${x}px`;
      line.style.top = `${y}px`;

      setTimeout(() => {
        pointer.style.boxShadow = pointer.classList.contains('buy') ? '0 0 15px green' : '0 0 15px red';
        line.remove();
      }, 1000);
    }

    function startSimulation() {
      createPointer('buy');
      createPointer('sell');
    }

    startSimulation();
    setInterval(startSimulation, 120000); // Restart every 2 minutes
  </script>
</body>
</html>
