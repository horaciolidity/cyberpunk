<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>LYTHOS Dashboard</title>
    <script src="https://cdn.jsdelivr.net/npm/web3@latest/dist/web3.min.js"></script>
    <style>
        body { font-family: Arial, sans-serif; text-align: center; background-color: #121212; color: white; }
        .container { max-width: 500px; margin: auto; padding: 20px; background: #1e1e1e; border-radius: 10px; }
        button { background: #ff9800; border: none; padding: 10px; color: white; cursor: pointer; }
    </style>
</head>
<body>
    <div class="container">
        <h1>LYTHOS Dashboard</h1>
        <p><strong>Balance:</strong> <span id="balance">0</span> LYTH</p>
        <p><strong>Suministro Total:</strong> <span id="totalSupply">0</span> LYTH</p>
        <p><strong>Recompensas:</strong> <span id="rewards">0</span> LYTH</p>
        <button onclick="claimRewards()">Reclamar Recompensas</button>
        <button onclick="buyTokens()">Comprar LYTH con ETH</button>
        <p><strong>Referido:</strong> <span id="referrer">N/A</span></p>
    </div>

    <script>
        const contractAddress = "TU_CONTRATO_AQUI";
        const contractABI = [/* ABI DEL CONTRATO AQU√ç */];
        let web3, contract, account;
        
        async function connectWallet() {
            if (window.ethereum) {
                web3 = new Web3(window.ethereum);
                await window.ethereum.request({ method: "eth_requestAccounts" });
                account = (await web3.eth.getAccounts())[0];
                contract = new web3.eth.Contract(contractABI, contractAddress);
                loadData();
            } else {
                alert("Por favor, instala MetaMask");
            }
        }
        
        async function loadData() {
            const balance = await contract.methods.balanceOf(account).call();
            document.getElementById("balance").innerText = web3.utils.fromWei(balance, "ether");
            
            const totalSupply = await contract.methods.totalSupply().call();
            document.getElementById("totalSupply").innerText = web3.utils.fromWei(totalSupply, "ether");
            
            const rewards = await contract.methods.rewardedBots(account, 0).call();
            document.getElementById("rewards").innerText = web3.utils.fromWei(rewards, "ether");
            
            const referrer = await contract.methods.referrer(account).call();
            document.getElementById("referrer").innerText = referrer !== "0x0000000000000000000000000000000000000000" ? referrer : "N/A";
        }
        
        async function claimRewards() {
            await contract.methods.rewardTokens(account).send({ from: account });
            alert("Recompensas reclamadas!");
            loadData();
        }
        
        async function buyTokens() {
            const amount = prompt("Cantidad de ETH a gastar:");
            if (amount) {
                await contract.methods.buyTokens().send({ from: account, value: web3.utils.toWei(amount, "ether") });
                alert("Compra realizada!");
                loadData();
            }
        }
        
        window.onload = connectWallet;
    </script>
</body>
</html>
